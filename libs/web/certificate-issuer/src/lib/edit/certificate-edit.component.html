<div class="uk-card uk-card-default uk-card-hover uk-width-xlarge">
  <div *ngIf="isLoading || isSaving" class="uk-overlay-default uk-position-cover">
    <div class="uk-position-center">
      <div uk-spinner="ratio: 2"></div>
    </div>
  </div>
  <div class="uk-card-header">
    <h1 class="uk-card-title uk-float-left">Edit Certificate</h1>
    <a (click)="onDelete()"><span class="uk-float-right red" uk-icon="icon: trash; ratio: 2" uk-tooltip="Delete"></span></a>
  </div>
  <form class="uk-form-stacked" [formGroup]="form">
    <div class="uk-card-body uk-padding-remove">
      <div class="form-item uk-alert-danger" *ngIf="errMsgs.length > 0">
        <ul class="uk-list uk-list-disc">
          <li *ngFor="let msg of errMsgs">{{ msg }}</li>
        </ul>
      </div>
      <div class="form-item">
        <label class="uk-form-label" for="certificate-name">Name</label>
        <div class="uk-form-controls">
          <input
            class="uk-input"
            [class.uk-form-danger]="name.invalid && (name.dirty || name.touched || errMsgs.length > 0)"
            formControlName="name"
            id="certificate-name"
            type="text"
            placeholder="MyCoolCertificate"
          />
        </div>
      </div>
      <div class="form-item">
        <label class="uk-form-label" for="certificate-version">Version</label>
        <div class="uk-form-controls">
          <input
            class="uk-input"
            [class.uk-form-danger]="version.invalid && (version.dirty || version.touched || errMsgs.length > 0)"
            formControlName="version"
            id="certificate-version"
            type="text"
            placeholder="1.0.0"
          />
        </div>
      </div>
      <div class="form-item">
        <label class="uk-form-label" for="certificate-signature">Signature</label>
        <div class="uk-form-controls">
          <input
            class="uk-input"
            [class.uk-form-danger]="signature.invalid && (signature.dirty || signature.touched || errMsgs.length > 0)"
            formControlName="signature"
            id="certificate-signature"
            type="text"
            placeholder="CoolSignature"
          />
        </div>
      </div>
      <div class="form-item">
        <label class="uk-form-label" for="certificate-confirmanceTest">Tests</label>
        <div class="uk-form-controls">
          <select
            class="uk-select"
            multiple
            [class.uk-form-danger]="confirmanceTest.invalid && (confirmanceTest.dirty || confirmanceTest.touched || errMsgs.length > 0)"
            formControlName="confirmanceTest"
            id="certificate-confirmanceTest"
          >
            <option *ngFor="let confirmanceTest of masterConfirmanceTests" [value]="confirmanceTest.id">{{ confirmanceTest.name }} - {{ confirmanceTest.version }}</option>
          </select>
        </div>
      </div>
    </div>
  </form>
  <div class="uk-card-footer uk-padding-remove">
    <div class="form-item">
      <button class="uk-button uk-button-primary" (click)="onSave(form)">Save</button>
      <button class="uk-button uk-button-default uk-float-right" (click)="onReset()">Reset</button>
    </div>
  </div>
</div>
